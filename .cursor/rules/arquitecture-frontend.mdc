---
alwaysApply: true
---
# Frontend Architecture - React + TypeScript + Inertia.js

## Structure
```
resources/js/
├── app/
│   ├── app.tsx             # Inertia entry point
│   ├── ssr.tsx             # SSR (optional)
│   └── bootstrap.ts        # Initial config
│
├── Components/
│   ├── ui/
│   │   ├── Button.tsx
│   │   ├── Input.tsx
│   │   ├── Select.tsx
│   │   ├── Badge.tsx
│   │   ├── Card.tsx
│   │   ├── Modal.tsx
│   │   ├── Dropdown.tsx
│   │   ├── Table.tsx
│   │   └── index.ts             # Re-exports ui + Skeleton
│   ├── Skeleton/                # Sistema global de loading skeletons
│   │   ├── index.ts             # Barrel export central
│   │   ├── README.md            # Documentación completa
│   │   ├── EXAMPLES.tsx         # Ejemplos de uso
│   │   ├── base/                # Componentes fundamentales
│   │   │   ├── Skeleton.tsx     # Componente base con shimmer
│   │   │   ├── Input.tsx        # InputSkeleton
│   │   │   ├── Button.tsx       # ButtonSkeleton
│   │   │   ├── Avatar.tsx       # AvatarSkeleton
│   │   │   └── Badge.tsx        # BadgeSkeleton
│   │   ├── forms/               # Skeletons de formularios
│   │   │   ├── FormSkeleton.tsx
│   │   │   └── OnboardingForm.tsx
│   │   ├── cards/               # Skeletons de tarjetas
│   │   │   ├── Card.tsx
│   │   │   ├── CardGrid.tsx
│   │   │   └── ListItem.tsx
│   │   └── data-display/        # Skeletons de datos (futuro)
│   │       └── .gitkeep         # Table, Chart, Stats, etc.
│   ├── forms/
│   │   ├── FormField.tsx
│   │   ├── FormError.tsx
│   │   ├── FormLabel.tsx
│   │   └── FormGroup.tsx
│   ├── feedback/
│   │   ├── Alert.tsx
│   │   ├── Toast.tsx
│   │   ├── Loading.tsx
│   │   └── EmptyState.tsx
│   ├── navigation/
│   │   ├── Breadcrumb.tsx
│   │   ├── Pagination.tsx
│   │   └── Tabs.tsx
│   └── data-display/
│       ├── Avatar.tsx
│       ├── StatusBadge.tsx
│       ├── StatCard.tsx
│       └── DataTable.tsx
│
├── Layouts/
│   ├── Public/
│   │   ├── PublicLayout.tsx
│   │   ├── PublicNavbar.tsx
│   │   └── PublicFooter.tsx
│   ├── Authenticated/
│   │   ├── AuthenticatedLayout.tsx
│   │   ├── Sidebar.tsx
│   │   ├── Navbar.tsx
│   │   └── UserMenu.tsx
│   ├── PlatformAdmin/
│   │   ├── AdminLayout.tsx
│   │   └── AdminSidebar.tsx
│   ├── CompanyAdmin/
│   │   ├── CompanyAdminLayout.tsx
│   │   └── CompanyAdminSidebar.tsx
│   ├── Agent/
│   │   ├── AgentLayout.tsx
│   │   └── AgentSidebar.tsx
│   └── User/
│       ├── UserLayout.tsx
│       └── UserSidebar.tsx
│
├── Pages/
│   ├── Public/
│   │   ├── Welcome.tsx
│   │   ├── About.tsx
│   │   ├── Login.tsx
│   │   ├── Register.tsx
│   │   ├── ForgotPassword.tsx
│   │   ├── ResetPassword.tsx
│   │   ├── VerifyEmail.tsx
│   │   └── RequestCompany.tsx
│   ├── PlatformAdmin/          # /admin/*
│   │   ├── Dashboard.tsx
│   │   ├── Companies/
│   │   │   ├── Index.tsx
│   │   │   ├── Show.tsx
│   │   │   └── Edit.tsx
│   │   ├── CompanyRequests/
│   │   │   ├── Index.tsx
│   │   │   └── Review.tsx
│   │   └── Users/
│   │       ├── Index.tsx
│   │       └── Show.tsx
│   ├── CompanyAdmin/           # /empresa/*
│   │   ├── Dashboard.tsx
│   │   ├── Tickets/
│   │   │   ├── Index.tsx
│   │   │   └── Show.tsx
│   │   ├── Agents/
│   │   │   ├── Index.tsx
│   │   │   ├── Invite.tsx
│   │   │   └── Show.tsx
│   │   ├── Content/
│   │   │   ├── Announcements.tsx
│   │   │   └── HelpCenter.tsx
│   │   └── Settings/
│   │       ├── General.tsx
│   │       ├── Branding.tsx
│   │       ├── Categories.tsx
│   │       └── Macros.tsx
│   ├── Agent/                  # /agent/*
│   │   ├── Dashboard.tsx
│   │   ├── Tickets/
│   │   │   ├── Index.tsx
│   │   │   └── Show.tsx
│   │   ├── Knowledge.tsx
│   │   └── Stats.tsx
│   └── User/                   # /tickets, /profile
│       ├── Tickets/
│       │   ├── Index.tsx
│       │   ├── Create.tsx
│       │   └── Show.tsx
│       ├── HelpCenter.tsx
│       ├── Announcements.tsx
│       ├── Profile.tsx
│       └── Settings.tsx
│
├── Features/
│   ├── authentication/
│   │   ├── hooks/
│   │   │   ├── useAuth.ts
│   │   │   ├── useLogin.ts
│   │   │   ├── useRegister.ts
│   │   │   └── useLogout.ts
│   │   ├── components/
│   │   │   ├── LoginForm.tsx
│   │   │   ├── RegisterForm.tsx
│   │   │   └── EmailVerificationAlert.tsx
│   │   └── types.ts
│   ├── tickets/
│   │   ├── hooks/
│   │   │   ├── useTickets.ts
│   │   │   ├── useTicketDetail.ts
│   │   │   ├── useCreateTicket.ts
│   │   │   └── useTicketResponses.ts
│   │   ├── components/
│   │   │   ├── TicketCard.tsx
│   │   │   ├── TicketList.tsx
│   │   │   ├── TicketDetail.tsx
│   │   │   ├── ResponseForm.tsx
│   │   │   ├── RatingForm.tsx
│   │   │   └── TicketFilters.tsx
│   │   └── types.ts
│   ├── companies/
│   │   ├── hooks/
│   │   │   ├── useCompanies.ts
│   │   │   └── useCompanyDetail.ts
│   │   ├── components/
│   │   │   ├── CompanyCard.tsx
│   │   │   └── CompanySelector.tsx
│   │   └── types.ts
│   ├── agents/
│   │   ├── hooks/
│   │   │   ├── useAgents.ts
│   │   │   └── useInviteAgent.ts
│   │   ├── components/
│   │   │   ├── AgentCard.tsx
│   │   │   └── InviteAgentForm.tsx
│   │   └── types.ts
│   └── profile/
│       ├── hooks/
│       │   ├── useProfile.ts
│       │   └── useUpdateProfile.ts
│       ├── components/
│       │   ├── ProfileForm.tsx
│       │   └── AvatarUpload.tsx
│       └── types.ts
│
├── lib/
│   ├── graphql/
│   │   ├── client.ts
│   │   ├── queries/
│   │   │   ├── auth.queries.ts
│   │   │   ├── tickets.queries.ts
│   │   │   ├── users.queries.ts
│   │   │   └── companies.queries.ts
│   │   ├── mutations/
│   │   │   ├── auth.mutations.ts
│   │   │   ├── tickets.mutations.ts
│   │   │   └── users.mutations.ts
│   │   └── fragments.ts
│   ├── api/
│   │   ├── client.ts
│   │   └── interceptors.ts
│   ├── utils/
│   │   ├── date.ts
│   │   ├── validation.ts
│   │   ├── formatters.ts
│   │   └── helpers.ts
│   └── constants/
│       ├── roles.ts
│       ├── statuses.ts
│       └── routes.ts
│
├── hooks/
│   ├── useTheme.ts
│   ├── useLocale.ts
│   ├── usePermissions.ts
│   ├── useNotifications.ts
│   ├── usePagination.ts
│   ├── useDebounce.ts
│   └── useLocalStorage.ts
│
├── contexts/
│   ├── AuthContext.tsx
│   ├── ThemeContext.tsx
│   ├── LocaleContext.tsx
│   └── NotificationContext.tsx
│
├── types/
│   ├── index.d.ts
│   ├── inertia.d.ts
│   ├── models.ts
│   └── api.ts
│
└── config/
    ├── theme.ts
    ├── i18n.ts
    └── permissions.ts

resources/css/
├── app.css
└── themes/
    ├── light.css
    └── dark.css

resources/lang/
├── en/
│   ├── auth.json
│   ├── tickets.json
│   └── common.json
└── es/
    ├── auth.json
    ├── tickets.json
    └── common.json

resources/views/
└── app.blade.php           # Root Inertia layout
```

## Rules

### File Placement
- **Generic UI components** → `Components/ui/`
- **Skeleton loading components** → `Components/Skeleton/` (ver regla @skeleton-system)
- **Form components** → `Components/forms/`
- **Feedback UI** → `Components/feedback/`
- **Role layouts** → `Layouts/{Role}/`
- **Inertia pages** → `Pages/{Role}/`
- **Feature logic** → `Features/{feature}/hooks/` or `Features/{feature}/components/`
- **GraphQL queries** → `lib/graphql/queries/{feature}.queries.ts`
- **GraphQL mutations** → `lib/graphql/mutations/{feature}.mutations.ts`
- **Utilities** → `lib/utils/`
- **Global hooks** → `hooks/`
- **Global state** → `contexts/`

### Naming
- **Files**: PascalCase components, camelCase hooks/utils
- **Components**: PascalCase (UserProfile, TicketCard)
- **Hooks**: camelCase + "use" prefix (useAuth, useTickets)
- **Constants**: UPPER_SNAKE_CASE
- **Types**: PascalCase interfaces

### TypeScript
- Always define types/interfaces
- No `any`, use `unknown` if needed
- Props interfaces for all components
- Type all parameters and returns

### Patterns
```tsx
// Component
export const Component: FC<Props> = ({ data }) => { ... }

// Page
export default function Page({ data }: PageProps) {
    return <Layout><Head title="..." />...</Layout>
}

// Hook
export const useFeature = () => {
    const { data, loading } = useQuery(QUERY);
    return { data, loading };
}
```

### GraphQL
- Queries in `lib/graphql/queries/{feature}.queries.ts`
- Mutations in `lib/graphql/mutations/{feature}.mutations.ts`
- Fragments in `lib/graphql/fragments.ts`
- Use fragments for reusable fields

### Styling
- Tailwind CSS utility classes only
- No inline styles
- Use `clsx` for conditional classes

### Imports
- Always use `@/` path alias
- Never relative imports like `../../`

### Key Points
1. Feature components in `Features/{feature}/components/`
2. Generic components in `Components/`
3. Skeleton loading system in `Components/Skeleton/` (organizado por funcionalidad)
4. Each role has its own layout
5. Pages organized by role
6. GraphQL in hooks, not in components
7. TypeScript strict mode
8. Inertia patterns (useForm, router, Head)
9. Use skeleton screens for loading states (never show blank screens)

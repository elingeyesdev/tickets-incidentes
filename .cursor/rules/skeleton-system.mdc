---
alwaysApply: false
---
# Sistema de Skeleton Loading - Reglas de Uso

## ğŸ¯ PropÃ³sito
Sistema profesional y escalable de skeleton screens (loading states) para React + Tailwind CSS.
Organizado segÃºn mejores prÃ¡cticas de empresas como Airbnb, Shopify, GitHub y Material-UI.

## ğŸ“ Estructura Completa

```
Components/Skeleton/
â”œâ”€â”€ index.ts                  # âœ… Barrel export - SIEMPRE importar desde aquÃ­
â”œâ”€â”€ README.md                 # DocumentaciÃ³n completa del sistema
â”œâ”€â”€ EXAMPLES.tsx              # 9 ejemplos prÃ¡cticos de uso
â”‚
â”œâ”€â”€ base/                     # Componentes fundamentales (atÃ³micos)
â”‚   â”œâ”€â”€ Skeleton.tsx          # Componente base con animaciÃ³n shimmer
â”‚   â”œâ”€â”€ Input.tsx             # InputSkeleton
â”‚   â”œâ”€â”€ Button.tsx            # ButtonSkeleton
â”‚   â”œâ”€â”€ Avatar.tsx            # AvatarSkeleton (circular)
â”‚   â””â”€â”€ Badge.tsx             # BadgeSkeleton
â”‚
â”œâ”€â”€ forms/                    # Skeletons de formularios completos
â”‚   â”œâ”€â”€ FormSkeleton.tsx      # Formulario genÃ©rico configurable
â”‚   â””â”€â”€ OnboardingForm.tsx    # Formulario especÃ­fico de onboarding
â”‚
â”œâ”€â”€ cards/                    # Skeletons de tarjetas y listas
â”‚   â”œâ”€â”€ Card.tsx              # CardSkeleton (3 variantes)
â”‚   â”œâ”€â”€ CardGrid.tsx          # CardGridSkeleton (grid responsive)
â”‚   â””â”€â”€ ListItem.tsx          # ListItemSkeleton (items de lista)
â”‚
â””â”€â”€ data-display/             # Para futuros skeletons de datos
    â””â”€â”€ .gitkeep              # TODO: Table, Chart, Stats, etc.
```

## ğŸš€ ImportaciÃ³n (OBLIGATORIO)

### âœ… CORRECTO - Importar desde barrel export
```tsx
// OpciÃ³n 1: Directamente desde Skeleton (recomendado)
import { 
  Skeleton, 
  InputSkeleton, 
  FormSkeleton, 
  CardSkeleton 
} from '@/Components/Skeleton';

// OpciÃ³n 2: Desde ui (tambiÃ©n vÃ¡lido, hay re-export)
import { 
  OnboardingFormSkeleton, 
  CardGridSkeleton 
} from '@/Components/ui';
```

### âŒ INCORRECTO - NO importar directamente
```tsx
// âŒ NO HACER ESTO
import { Skeleton } from '@/Components/Skeleton/base/Skeleton';
import { FormSkeleton } from '@/Components/Skeleton/forms/FormSkeleton';
```

## ğŸ“‹ Componentes Disponibles

### 1. Base Components (AtÃ³micos)

#### `Skeleton` - Componente Base
```tsx
interface SkeletonProps {
  variant?: 'rectangular' | 'circular' | 'rounded' | 'text';
  className?: string;
  lines?: number;           // Solo para variant="text"
  lastLineWidth?: string;   // Solo para variant="text"
}

// Ejemplos
<Skeleton className="h-4 w-full" />
<Skeleton variant="circular" className="w-12 h-12" />
<Skeleton variant="text" lines={3} lastLineWidth="70%" />
```

#### `InputSkeleton`
```tsx
interface InputSkeletonProps {
  className?: string;
  withLabel?: boolean;      // Default: true
}

// Ejemplos
<InputSkeleton />
<InputSkeleton withLabel={false} />
```

#### `ButtonSkeleton`
```tsx
interface ButtonSkeletonProps {
  className?: string;
  fullWidth?: boolean;      // Default: false
}

// Ejemplos
<ButtonSkeleton />
<ButtonSkeleton fullWidth />
```

#### `AvatarSkeleton`
```tsx
interface AvatarSkeletonProps {
  size?: 'sm' | 'md' | 'lg';  // Default: 'md'
  className?: string;
}

// Ejemplos
<AvatarSkeleton size="lg" />
```

#### `BadgeSkeleton`
```tsx
interface BadgeSkeletonProps {
  className?: string;
}

// Ejemplo
<BadgeSkeleton className="w-32" />
```

### 2. Form Skeletons (Complejos)

#### `FormSkeleton` - Formulario GenÃ©rico
```tsx
interface FormSkeletonProps {
  fields?: number;              // Default: 3
  layout?: 'vertical' | 'grid'; // Default: 'vertical'
  columns?: 2 | 3;              // Default: 2 (solo si layout="grid")
  withButton?: boolean;         // Default: true
  withMultipleButtons?: boolean;// Default: false
  withHeader?: boolean;         // Default: false
  className?: string;
}

// Ejemplos
<FormSkeleton fields={5} />
<FormSkeleton fields={6} layout="grid" columns={2} />
<FormSkeleton fields={3} withHeader withMultipleButtons />
```

#### `OnboardingFormSkeleton` - Onboarding EspecÃ­fico
```tsx
interface OnboardingFormSkeletonProps {
  fields?: number;    // Default: 3
  columns?: 1 | 2;    // Default: 2
}

// Ejemplos
<OnboardingFormSkeleton />
<OnboardingFormSkeleton fields={4} columns={1} />
```

### 3. Card Skeletons

#### `CardSkeleton`
```tsx
interface CardSkeletonProps {
  withImage?: boolean;          // Default: false
  withBadge?: boolean;          // Default: false
  withActions?: boolean;        // Default: false
  lines?: number;               // Default: 3
  variant?: 'default' | 'horizontal' | 'compact'; // Default: 'default'
  className?: string;
}

// Ejemplos
<CardSkeleton />
<CardSkeleton withImage withActions />
<CardSkeleton variant="horizontal" withBadge />
<CardSkeleton variant="compact" />
```

#### `CardGridSkeleton`
```tsx
interface CardGridSkeletonProps {
  count?: number;               // Default: 6
  columns?: 1 | 2 | 3 | 4;      // Default: 3
  cardProps?: CardSkeletonProps;
}

// Ejemplos
<CardGridSkeleton />
<CardGridSkeleton count={8} columns={4} />
<CardGridSkeleton 
  count={6} 
  columns={3}
  cardProps={{ withImage: true, withBadge: true }} 
/>
```

#### `ListItemSkeleton`
```tsx
interface ListItemSkeletonProps {
  withAvatar?: boolean;   // Default: true
  withActions?: boolean;  // Default: false
  className?: string;
}

// Ejemplo
<ListItemSkeleton withActions />
```

## ğŸ¨ DiseÃ±o y AnimaciÃ³n

### AnimaciÃ³n Shimmer (Definida en app.css)
```css
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}
```
- **DuraciÃ³n**: 2 segundos
- **Loop**: Infinito
- **Efecto**: Brillo de izquierda a derecha

### Colores Consistentes
- **Light mode**: `bg-gray-200`, shimmer `via-white/20`
- **Dark mode**: `bg-gray-700`, shimmer `via-white/10`
- **Bordes**: `border-gray-200 dark:border-gray-700`

## ğŸ“ Patrones de Uso (BEST PRACTICES)

### âœ… PatrÃ³n 1: Loading State Simple
```tsx
export const MyComponent = () => {
  const { data, loading } = useQuery(MY_QUERY);

  if (loading) {
    return <FormSkeleton fields={5} withButton />;
  }

  return <ActualForm data={data} />;
};
```

### âœ… PatrÃ³n 2: Loading State en PÃ¡gina
```tsx
export default function Dashboard() {
  const { data, loading } = useQuery(DASHBOARD_QUERY);

  if (loading) {
    return (
      <AuthenticatedLayout>
        <div className="space-y-8">
          <CardGridSkeleton count={3} columns={3} />
          <ListItemSkeleton withActions />
        </div>
      </AuthenticatedLayout>
    );
  }

  return <ActualDashboard data={data} />;
}
```

### âœ… PatrÃ³n 3: Skeleton Personalizado (ComposiciÃ³n)
```tsx
export const MyCustomSkeleton = () => (
  <div className="flex gap-4">
    <AvatarSkeleton size="lg" />
    <div className="flex-1 space-y-3">
      <Skeleton className="h-6 w-48" />
      <Skeleton variant="text" lines={2} />
      <div className="flex gap-2">
        <BadgeSkeleton />
        <BadgeSkeleton />
      </div>
    </div>
    <ButtonSkeleton className="w-24" />
  </div>
);
```

## ğŸ› ï¸ CreaciÃ³n de Nuevos Skeletons

### Paso 1: Determinar la Carpeta Correcta
- **AtÃ³mico (button, input, icon)** â†’ `base/`
- **Formulario completo** â†’ `forms/`
- **Tarjeta/Card** â†’ `cards/`
- **Tabla, grÃ¡fico, estadÃ­sticas** â†’ `data-display/`

### Paso 2: Crear el Componente
```tsx
// Components/Skeleton/data-display/Table.tsx
import React from 'react';
import { Skeleton } from '../base/Skeleton';

interface TableSkeletonProps {
  rows?: number;
  columns?: number;
}

export const TableSkeleton: React.FC<TableSkeletonProps> = ({ 
  rows = 5, 
  columns = 4 
}) => (
  <div className="bg-white rounded-lg border">
    <table className="w-full">
      <thead>
        <tr>
          {Array.from({ length: columns }).map((_, i) => (
            <th key={i} className="p-4">
              <Skeleton className="h-4 w-24" />
            </th>
          ))}
        </tr>
      </thead>
      <tbody>
        {Array.from({ length: rows }).map((_, i) => (
          <tr key={i}>
            {Array.from({ length: columns }).map((_, j) => (
              <td key={j} className="p-4">
                <Skeleton className="h-4 w-32" />
              </td>
            ))}
          </tr>
        ))}
      </tbody>
    </table>
  </div>
);
```

### Paso 3: Exportar en index.ts
```tsx
// Components/Skeleton/index.ts

// ===== DATA DISPLAY SKELETONS =====
export { TableSkeleton } from './data-display/Table';
```

## ğŸš« Reglas PROHIBIDAS

### âŒ NO Duplicar CÃ³digo
```tsx
// âŒ MAL - Crear skeleton inline repetido
const MyComponent = () => {
  if (loading) {
    return (
      <div className="bg-gray-200 h-4 w-full animate-pulse" />
    );
  }
};

// âœ… BIEN - Usar componente existente
const MyComponent = () => {
  if (loading) {
    return <Skeleton className="h-4 w-full" />;
  }
};
```

### âŒ NO Crear Skeletons Fuera de la Carpeta
```tsx
// âŒ MAL - Skeleton en Components/ui/
// Components/ui/MyFormSkeleton.tsx

// âœ… BIEN - Skeleton en carpeta dedicada
// Components/Skeleton/forms/MyForm.tsx
```

### âŒ NO Usar Estilos Inconsistentes
```tsx
// âŒ MAL - Colores diferentes
<div className="bg-blue-200 animate-pulse" />

// âœ… BIEN - Usar componente con estilos consistentes
<Skeleton className="h-4 w-full" />
```

## ğŸ“š DocumentaciÃ³n de Referencia

1. **README.md** - GuÃ­a completa con todos los detalles
2. **EXAMPLES.tsx** - 9 ejemplos prÃ¡cticos (Login, Dashboard, Tickets, etc.)
3. Esta regla - Referencia rÃ¡pida para uso diario

## ğŸ¯ Checklist de ImplementaciÃ³n

Cuando implementes loading states:
- [ ] Â¿UsÃ© un skeleton existente en lugar de crear uno nuevo?
- [ ] Â¿ImportÃ© desde `@/Components/Skeleton`?
- [ ] Â¿El skeleton mantiene la estructura visual del componente real?
- [ ] Â¿El skeleton tiene animaciÃ³n shimmer?
- [ ] Â¿Funciona correctamente en dark mode?
- [ ] Â¿Es responsive (mobile, tablet, desktop)?

## ğŸ’¡ Tips Profesionales

1. **MantÃ©n la estructura visual** - El skeleton debe parecerse al componente real
2. **Usa el mÃ¡s especÃ­fico** - Prefiere `FormSkeleton` sobre componer mÃºltiples `InputSkeleton`
3. **ComposiciÃ³n para casos Ãºnicos** - Combina componentes base para layouts especiales
4. **Consistencia** - Siempre usa los colores y animaciones del sistema
5. **Performance** - Los skeletons son CSS puro (GPU accelerated)

## ğŸ”„ Mantenimiento

### Al Agregar Nuevos Componentes UI
Si creas un nuevo componente en `Components/ui/`, considera:
1. Â¿Necesita un skeleton? â†’ CrÃ©alo en `Components/Skeleton/`
2. Â¿Es un componente complejo? â†’ Usa composiciÃ³n de skeletons base
3. Â¿Es reutilizable? â†’ AgrÃ©galo al barrel export

### Al Refactorizar
- MantÃ©n backward compatibility con `Components/ui/index.ts`
- Actualiza `EXAMPLES.tsx` si cambias props
- Actualiza `README.md` con nuevos componentes

---

**Sistema implementado el 13 de Octubre, 2025**  
**Ãšltima actualizaciÃ³n**: 13 de Octubre, 2025  
**VersiÃ³n**: 1.0.0

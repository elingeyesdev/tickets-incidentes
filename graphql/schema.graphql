# ================================================================================
# SCHEMA PRINCIPAL - Sistema Helpdesk V9.0
# Importa todo el contenido compartido y de features
# ================================================================================

# ===== IMPORTAR CONTENIDO COMPARTIDO =====
#import shared/scalars.graphql
#import shared/directives.graphql
#import shared/interfaces.graphql
#import shared/enums.graphql
#import shared/base-types.graphql
#import shared/inputs.graphql
#import shared/pagination.graphql

# ===== IMPORTAR SCHEMAS DE FEATURES =====
#import ../app/Features/Authentication/GraphQL/Schema/authentication.graphql
#import ../app/Features/UserManagement/GraphQL/Schema/user-management.graphql
#import ../app/Features/CompanyManagement/GraphQL/Schema/company-management.graphql

# ================================================================================
# QUERIES Y MUTATIONS BASE DEL SISTEMA
# ================================================================================

"""
Indica los campos disponibles en el nivel superior de queries
Features extienden este tipo con sus propias queries
"""
type Query {
    """Simple ping-pong health check"""
    ping: String!
        @field(resolver: "App\\Shared\\GraphQL\\Queries\\PingQuery")

    """Información de versión del API y sistema"""
    version: ApiVersion!
        @field(resolver: "App\\Shared\\GraphQL\\Queries\\VersionQuery")

    """Chequeo de salud de servicios del sistema"""
    health: [HealthCheck!]!
        @field(resolver: "App\\Shared\\GraphQL\\Queries\\HealthQuery")
}

"""
Indica los campos disponibles en el nivel superior de mutations
Features extienden este tipo con sus propias mutations
"""
type Mutation

# ================================================================================
# TYPES DE SISTEMA
# ================================================================================

"""Respuesta de health check para estado de servicios"""
type HealthCheck {
    """Nombre del servicio"""
    service: String!

    """Estado del servicio (healthy, degraded, down)"""
    status: String!

    """Detalles adicionales del estado"""
    details: String

    """Timestamp del check"""
    timestamp: DateTime!
}

"""Información de versión del API"""
type ApiVersion {
    """Versión del API (semver)"""
    version: String!

    """Versión de Laravel framework"""
    laravel: String!

    """Entorno de ejecución (local, staging, production)"""
    environment: String!

    """Timestamp de la respuesta"""
    timestamp: DateTime!

    """Versión de Lighthouse GraphQL"""
    lighthouse: String!
}
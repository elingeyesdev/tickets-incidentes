---
alwaysApply: false
---
# Sistema de Skeleton Loading - Reglas de Uso

## ğŸ¯ PropÃ³sito
Sistema profesional y escalable de skeleton screens (loading states) para React Native + Reanimated + NativeWind.
Organizado segÃºn metodologÃ­a Atomic Design.

## ğŸ“ Estructura Completa

```
src/components/Skeleton/
â”œâ”€â”€ index.ts                  # âœ… Barrel export - SIEMPRE importar desde aquÃ­
â”œâ”€â”€ README.md                 # DocumentaciÃ³n completa del sistema
â”œâ”€â”€ EXAMPLES.tsx              # Ejemplos prÃ¡cticos de uso
â”‚
â”œâ”€â”€ base/                     # Componente base animado
â”‚   â””â”€â”€ BaseSkeleton.tsx      # Core con animaciÃ³n Reanimated Pulse
â”‚
â”œâ”€â”€ atoms/                    # Bloques bÃ¡sicos
â”‚   â”œâ”€â”€ SkeletonBox.tsx       # Caja rectangular genÃ©rica
â”‚   â”œâ”€â”€ SkeletonCircle.tsx    # CÃ­rculo (avatares, iconos)
â”‚   â””â”€â”€ SkeletonText.tsx      # LÃ­neas de texto simuladas
â”‚
â”œâ”€â”€ molecules/                # Composiciones simples
â”‚   â”œâ”€â”€ ListItemSkeleton.tsx  # Item de lista (avatar + texto)
â”‚   â”œâ”€â”€ CardSkeleton.tsx      # Tarjeta genÃ©rica
â”‚   â””â”€â”€ FormSkeleton.tsx      # Formulario genÃ©rico
â”‚
â””â”€â”€ organisms/                # Pantallas o secciones completas
    â”œâ”€â”€ HomeSkeleton.tsx              # Skeleton del Home Screen
    â”œâ”€â”€ TicketCardSkeleton.tsx        # Skeleton de tarjeta de ticket
    â”œâ”€â”€ TicketDetailSkeleton.tsx      # Skeleton de detalle de ticket
    â”œâ”€â”€ AnnouncementCardSkeleton.tsx  # Skeleton de tarjeta de anuncio
    â”œâ”€â”€ AnnouncementDetailSkeleton.tsx# Skeleton de detalle de anuncio
    â”œâ”€â”€ CategoryGridSkeleton.tsx      # Skeleton de grid de categorÃ­as
    â””â”€â”€ ProfileSkeleton.tsx           # Skeleton de perfil de usuario
```

## ğŸš€ ImportaciÃ³n (OBLIGATORIO)

### âœ… CORRECTO - Importar desde barrel export
```tsx
import { 
  SkeletonBox, 
  SkeletonText, 
  TicketCardSkeleton, 
  HomeSkeleton 
} from '@/components/Skeleton';
```

### âŒ INCORRECTO - NO importar directamente
```tsx
// âŒ NO HACER ESTO
import { SkeletonBox } from '@/components/Skeleton/atoms/SkeletonBox';
import { HomeSkeleton } from '@/components/Skeleton/organisms/HomeSkeleton';
```

## ğŸ“‹ Componentes Disponibles

### 1. Atoms (BÃ¡sicos)

#### `SkeletonBox`
Caja rectangular simple.
```tsx
interface SkeletonBoxProps {
  width?: number | string;
  height?: number | string;
  className?: string;
  style?: StyleProp<ViewStyle>;
}

// Ejemplos
<SkeletonBox width={100} height={20} />
<SkeletonBox className="w-full h-4 rounded-md" />
```

#### `SkeletonCircle`
Elemento circular para avatares o iconos.
```tsx
interface SkeletonCircleProps {
  size?: number;
  className?: string;
  style?: StyleProp<ViewStyle>;
}

// Ejemplos
<SkeletonCircle size={40} />
<SkeletonCircle className="bg-gray-300" size={60} />
```

#### `SkeletonText`
Simula pÃ¡rrafos de texto con anchos aleatorios para mayor realismo.
```tsx
interface SkeletonTextProps {
  lines?: number;       // Default: 3
  lineHeight?: number;  // Default: 20
  className?: string;
  style?: StyleProp<ViewStyle>;
}

// Ejemplos
<SkeletonText lines={2} />
<SkeletonText lines={5} lineHeight={24} />
```

### 2. Molecules (Compuestos)

#### `ListItemSkeleton`
```tsx
interface ListItemSkeletonProps {
  withAvatar?: boolean; // Default: true
  lines?: number;       // Default: 2
  className?: string;
}

// Ejemplo
<ListItemSkeleton withAvatar={false} lines={3} />
```

#### `CardSkeleton`
```tsx
interface CardSkeletonProps {
  hasHeader?: boolean;  // Default: true
  hasFooter?: boolean;  // Default: true
  className?: string;
}

// Ejemplo
<CardSkeleton hasFooter={false} />
```

#### `FormSkeleton`
```tsx
interface FormSkeletonProps {
  fields?: number;      // Default: 3
  className?: string;
}

// Ejemplo
<FormSkeleton fields={5} />
```

### 3. Organisms (EspecÃ­ficos de Pantalla)

Estos componentes replican la estructura exacta de las pantallas principales.

- `HomeSkeleton`: Header, Quick Actions, Recent Activity.
- `TicketCardSkeleton`: Card de ticket con estado, info y footer.
- `TicketDetailSkeleton`: Detalle completo con tabs simulados.
- `AnnouncementCardSkeleton`: Card de anuncio con tipo y fecha.
- `AnnouncementDetailSkeleton`: Detalle de anuncio con markdown simulado.
- `CategoryGridSkeleton`: Grid de categorÃ­as de ayuda.
- `ProfileSkeleton`: Header de perfil, estadÃ­sticas y menÃº.

## ğŸ¨ DiseÃ±o y AnimaciÃ³n

### AnimaciÃ³n Pulse (Reanimated)
El sistema utiliza `react-native-reanimated` para una animaciÃ³n de opacidad suave (0.3 <-> 0.7).
- **Performance**: Ejecutada en el UI thread.
- **Tema**: Detecta automÃ¡ticamente Light/Dark mode (colores definidos en `BaseSkeleton`).

### Estilos
- Usa clases de **Tailwind CSS** (`nativewind`).
- Colores base: `bg-gray-200` (Light) / `bg-gray-700` (Dark).

## ğŸ“ Patrones de Uso (BEST PRACTICES)

### âœ… PatrÃ³n 1: Carga de Pantalla Completa
```tsx
const { isLoading } = useStore();

if (isLoading) {
  return <HomeSkeleton />;
}

return <HomeScreenContent />;
```

### âœ… PatrÃ³n 2: Carga de Lista
```tsx
const { isLoading, items } = useStore();

if (isLoading && items.length === 0) {
  return (
    <View className="p-4">
      {Array.from({ length: 5 }).map((_, i) => (
        <TicketCardSkeleton key={i} />
      ))}
    </View>
  );
}
```

## ğŸ› ï¸ CreaciÃ³n de Nuevos Skeletons

1.  **Atom**: Si es una forma bÃ¡sica nueva (ej. TriÃ¡ngulo).
2.  **Molecule**: Si es un componente UI reutilizable (ej. `CommentSkeleton`).
3.  **Organism**: Si es una pantalla o secciÃ³n compleja nueva (ej. `SettingsSkeleton`).

### Regla de Oro
**SIEMPRE** construye nuevos skeletons componiendo `SkeletonBox`, `SkeletonCircle` y `SkeletonText`. No crees animaciones personalizadas desde cero; usa los Ã¡tomos que ya implementan `BaseSkeleton`.

---

**Sistema implementado el 26 de Noviembre, 2025**
**VersiÃ³n**: 1.0.0

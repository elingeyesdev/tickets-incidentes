1# ðŸ“š PROTOCOLO DE SEEDERS: ARTÃCULOS HELP CENTER
## Enterprise Helpdesk System - Reglas de Calidad Profesional

---

## ðŸŽ¯ OBJETIVO

Generar artÃ­culos del Centro de Ayuda **100% coherentes** con la industria, servicios y contexto real de cada empresa, simulando un Help Center profesional que realmente podrÃ­a existir en producciÃ³n.

---

## âš™ï¸ CONFIGURACIÃ“N GENERAL

### Rango Temporal
```
INICIO:  5 de enero de 2025
FIN:     8 de diciembre de 2025
DURACIÃ“N: ~337 dÃ­as (~11 meses)
```

### Volumen de ArtÃ­culos por Empresa
```
MÃNIMO:  6 artÃ­culos
MÃXIMO:  17 artÃ­culos
PROMEDIO RECOMENDADO: 10-14 artÃ­culos
```

### Idempotencia del Seeder
```php
// VERIFICACIÃ“N OBLIGATORIA AL INICIO
if (HelpCenterArticle::where('company_id', $company->id)->exists()) {
    $this->command->info("âœ“ ArtÃ­culos ya existen para {$company->name}. Saltando...");
    return;
}
```

---

## ðŸ“‹ REGLAS NO NEGOCIABLES

### 1. CATEGORÃAS GLOBALES (4 Fijas)

Cada empresa DEBE tener **AL MENOS 1 artÃ­culo de cada categorÃ­a**:

```
âœ“ ACCOUNT_PROFILE      - Cuenta y Perfil (mÃ­nimo 1)
âœ“ SECURITY_PRIVACY     - Seguridad y Privacidad (mÃ­nimo 1)
âœ“ BILLING_PAYMENTS     - FacturaciÃ³n y Pagos (mÃ­nimo 1)
âœ“ TECHNICAL_SUPPORT    - Soporte TÃ©cnico (mÃ­nimo 1)
```

**DistribuciÃ³n Recomendada (para 12 artÃ­culos):**
```
TECHNICAL_SUPPORT:  4-5 artÃ­culos (40%)  â† Mayor volumen
ACCOUNT_PROFILE:    3 artÃ­culos (25%)
BILLING_PAYMENTS:   2-3 artÃ­culos (20%)
SECURITY_PRIVACY:   2 artÃ­culos (15%)
```

### 2. ESTADOS Y PUBLICACIÃ“N

**DistribuciÃ³n Realista:**
```
PUBLISHED:  80-85% de artÃ­culos
DRAFT:      15-20% de artÃ­culos (en ediciÃ³n/revisiÃ³n)
```

**LÃ³gica de PublicaciÃ³n:**
```
- ArtÃ­culos PUBLISHED: published_at entre 7-30 dÃ­as despuÃ©s de created_at
- ArtÃ­culos DRAFT: published_at = null
- NUNCA publicar artÃ­culos del futuro
```

### 3. CONTADOR DE VISTAS (views_count)

**Solo para artÃ­culos PUBLISHED:**
```php
// FÃ³rmula basada en antigÃ¼edad
$diasPublicado = now()->diffInDays($article->published_at);

if ($diasPublicado >= 180) {      // MÃ¡s de 6 meses
    views_count: 45-120
} elseif ($diasPublicado >= 90) { // 3-6 meses
    views_count: 25-70
} elseif ($diasPublicado >= 30) { // 1-3 meses
    views_count: 10-35
} else {                          // Menos de 1 mes
    views_count: 2-15
}
```

**ArtÃ­culos DRAFT:**
```
views_count: 0 (SIEMPRE)
```

### 4. ESTRUCTURA DEL CONTENIDO

**Title:**
```
- Longitud: 30-80 caracteres
- Formato pregunta (60%): "Â¿CÃ³mo...?", "Â¿QuÃ© hacer si...?", "Â¿DÃ³nde puedo...?"
- Formato declarativo (40%): "GuÃ­a para...", "Pasos para...", "ConfiguraciÃ³n de..."
- EspecÃ­fico, no genÃ©rico
- Sin "cÃ³mo hacer X en [Sistema]" â†’ usar nombre real de la empresa
```

**Excerpt:**
```
- Longitud: 100-200 caracteres
- Resume el problema + soluciÃ³n en 1 oraciÃ³n
- NO repetir el tÃ­tulo textualmente
- Tono profesional pero accesible
```

**Content:**
```
- Longitud: 300-1500 palabras
- Estructura clara con subsecciones
- Lenguaje tÃ©cnico apropiado a la industria
- Pasos numerados cuando sea procedimiento
- Incluir casos especiales / excepciones
- Mencionar canales de soporte adicionales al final
```

---

## ðŸ” PROTOCOLO DE INVESTIGACIÃ“N PRE-SEEDING

### PASO 1: Identificar Industria y Servicios

**Para cada empresa, investigar:**
```
1. Industria principal (ej: banking, telecommunications, food_and_beverage)
2. Servicios/productos clave que ofrece
3. Canales digitales (app mÃ³vil, web, cajeros, etc.)
4. Procesos crÃ­ticos del negocio
5. Problemas comunes de usuarios en esa industria
```

### PASO 2: Definir Temas por CategorÃ­a

#### ACCOUNT_PROFILE
```
Temas aplicables segÃºn industria:
- Banking: Actualizar datos personales, cambio de direcciÃ³n, gestiÃ³n de beneficiarios
- Telco: GestiÃ³n de lÃ­neas, portabilidad, cambio de plan
- Manufactura: Portal de proveedores, registro de empresas distribuidoras
- EnergÃ­a: Registro de medidores, cambio de titular
```

#### SECURITY_PRIVACY
```
Temas aplicables segÃºn industria:
- Banking: Bloqueo de tarjetas, autenticaciÃ³n de dos factores, alertas de fraude
- Telco: ProtecciÃ³n de datos personales, bloqueo de SIM, reporte de robo
- Manufactura: Acceso a datos de producciÃ³n, confidencialidad de fÃ³rmulas
- EnergÃ­a: ProtecciÃ³n de informaciÃ³n de consumo, privacidad de ubicaciones
```

#### BILLING_PAYMENTS
```
Temas aplicables segÃºn industria:
- Banking: Consulta de estado de cuenta, cobros no reconocidos, pagos rechazados
- Telco: Entender la factura, mÃ©todos de pago, recargos automÃ¡ticos
- Manufactura: FacturaciÃ³n a distribuidores, tÃ©rminos de pago, crÃ©dito comercial
- EnergÃ­a: Lectura de medidor, facturaciÃ³n estimada vs real, convenios de pago
```

#### TECHNICAL_SUPPORT
```
Temas aplicables segÃºn industria:
- Banking: App no carga, error en transferencias, sincronizaciÃ³n de cuentas
- Telco: Sin seÃ±al, datos mÃ³viles lentos, configuraciÃ³n APN
- Manufactura: Acceso al sistema de Ã³rdenes, sincronizaciÃ³n de inventarios
- EnergÃ­a: Reporte de fugas, fallas en medidor, interrupciones de servicio
```

### PASO 3: Conectar con Ecosistema Existente

**Relacionar artÃ­culos con:**
```
âœ“ CategorÃ­as de tickets existentes en la empresa
âœ“ Anuncios histÃ³ricos (incidents/maintenance que generaron dudas)
âœ“ Problemas recurrentes que aparecen en mÃºltiples tickets
```

**Ejemplo:**
```
Si existe ticket recurrente: "No puedo acceder a banca online"
â†’ Crear artÃ­culo: "Â¿QuÃ© hacer si no puedo iniciar sesiÃ³n en banca online?"
  Category: TECHNICAL_SUPPORT
  Content: Reseteo de contraseÃ±a, verificaciÃ³n 2FA, cache navegador, etc.
```

---

## ðŸ“… DISTRIBUCIÃ“N TEMPORAL

### CreaciÃ³n de ArtÃ­culos (created_at)

**PatrÃ³n Realista:**
```
Enero-Marzo 2025:     30% - Base inicial del Help Center
Abril-Junio 2025:     25% - ExpansiÃ³n y cobertura
Julio-Sept 2025:      25% - Pico de creaciÃ³n (nuevas features)
Octubre-Dic 2025:     20% - ConsolidaciÃ³n y mejoras
```

**DÃ­as preferidos:**
```
Lunes-Viernes: 90% (horario laboral de equipo editorial)
SÃ¡bado-Domingo: 10% (ocasionalmente)
```

**Horarios preferidos:**
```
9:00-11:00 AM:   30% (inicio de jornada)
2:00-4:00 PM:    40% (post-almuerzo)
4:00-6:00 PM:    30% (cierre de jornada)
```

### PublicaciÃ³n de ArtÃ­culos (published_at)

**Para artÃ­culos PUBLISHED:**
```
published_at = created_at + random(7-30 dÃ­as)

Horarios de publicaciÃ³n:
- 8:00-9:00 AM:  40% (inicio de semana laboral)
- 10:00-12:00 PM: 30%
- 2:00-4:00 PM:   30%
```

**Regla de Oro:**
```
NUNCA publicar despuÃ©s de 8 de diciembre de 2025 (fecha actual del sistema)
```

---

## ðŸ”— CONEXIÃ“N CON TICKETS Y ANUNCIOS

### Regla de Coherencia Narrativa

**Escenario 1: Incidente â†’ Tickets â†’ ArtÃ­culo**
```
1. 15 Mayo 2025, 9:30 AM - ANUNCIO (INCIDENT):
   "CaÃ­da de servicio banca online - En resoluciÃ³n"

2. 15 Mayo 2025, 9:15-11:00 AM - TICKETS (8-10 tickets):
   "No puedo acceder a banca online"
   "Error 502 al hacer transferencia"
   "App no carga"

3. 20 Mayo 2025 - ARTÃCULO (TECHNICAL_SUPPORT):
   "Â¿QuÃ© hacer si no puedo acceder a banca online?"
   â†’ Publicado DESPUÃ‰S del incidente como respuesta preventiva
   â†’ views_count alto (60-80) en siguientes meses por bÃºsquedas
```

**Escenario 2: Nueva Funcionalidad â†’ Anuncio â†’ Tickets â†’ ArtÃ­culo**
```
1. 10 Agosto 2025 - ANUNCIO (NEWS):
   "Nueva funciÃ³n: Pago de servicios con cÃ³digo QR"

2. 12-15 Agosto 2025 - TICKETS (5-8 tickets):
   "Â¿CÃ³mo usar el cÃ³digo QR?"
   "El cÃ³digo QR no se genera"
   "Error al escanear QR en comercio"

3. 18 Agosto 2025 - ARTÃCULO (TECHNICAL_SUPPORT):
   "CÃ³mo usar el cÃ³digo QR para pagos en comercios"
   â†’ Responde directamente a dudas generadas
```

**Escenario 3: ArtÃ­culo Preventivo â†’ Reduce Tickets**
```
1. Febrero 2025 - Se observan 15-20 tickets repetitivos:
   "Â¿CÃ³mo cambiar mi contraseÃ±a?"

2. 25 Febrero 2025 - ARTÃCULO (ACCOUNT_PROFILE):
   "Cambio de contraseÃ±a en banca digital: GuÃ­a completa"
   â†’ Publicado para reducir tickets

3. Marzo-Abril 2025 - ReducciÃ³n de tickets similares (solo 3-5)
   â†’ views_count del artÃ­culo: 45+ vistas
```

---

## âœ… CHECKLIST DE VALIDACIÃ“N

### Pre-GeneraciÃ³n
```
â˜ Empresa identificada correctamente
â˜ Industria confirmada (industry_id)
â˜ Verificar que NO existan artÃ­culos previos (idempotencia)
â˜ CategorÃ­as globales cargadas en DB (4 categorÃ­as)
â˜ Admin de la empresa identificado (author_id)
```

### Durante GeneraciÃ³n
```
â˜ Volumen: 6-17 artÃ­culos (aleatorio en rango)
â˜ DistribuciÃ³n: MÃ­nimo 1 de cada categorÃ­a
â˜ Estados: 80-85% PUBLISHED, 15-20% DRAFT
â˜ Fechas dentro del rango (5 ene 2025 - 8 dic 2025)
â˜ published_at = created_at + 7-30 dÃ­as (si PUBLISHED)
â˜ views_count proporcional a antigÃ¼edad (si PUBLISHED)
â˜ Contenido 100% alineado con industria
â˜ Titles Ãºnicos por empresa
â˜ Excerpts coherentes con content
```

### Post-GeneraciÃ³n
```
â˜ Total de artÃ­culos creados correcto
â˜ Todas las categorÃ­as representadas
â˜ Sin artÃ­culos publicados en el futuro
â˜ views_count = 0 en artÃ­culos DRAFT
â˜ ConexiÃ³n narrativa con tickets/anuncios (si aplica)
â˜ Log de confirmaciÃ³n en consola
```


## ðŸŽ¯ MÃ‰TRICAS DE Ã‰XITO

Al finalizar el seeder, validar:

```
âœ“ 100% de articulos para la empresas 
âœ“ empresa tienen las 4 categorÃ­as representadas
âœ“ 0 artÃ­culos publicados despuÃ©s de 8 dic 2025
âœ“ 0 artÃ­culos DRAFT con views_count > 0
âœ“ 0 tÃ­tulos duplicados por empresa
âœ“ Contenido coherente con industria (revisiÃ³n manual recomendada)
```

---

## ðŸ“š REFERENCIAS

- Base de datos: `business.help_center_articles`
- CategorÃ­as: `business.article_categories` (4 fijas)
- Modelo: `App\Features\ContentManagement\Models\HelpCenterArticle`
- Estados vÃ¡lidos: `DRAFT`, `PUBLISHED`
- Rango temporal: 5 enero 2025 - 8 diciembre 2025

---

**ÃšLTIMA ACTUALIZACIÃ“N:** 8 de Diciembre de 2025
**VERSIÃ“N:** 1.0
**ESTADO:** ProducciÃ³n âœ“
